{"version":3,"file":"collapse.js","sources":["../src/collapse.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.6.2): collapse.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * Constants\n */\n\nconst NAME = 'collapse'\nconst VERSION = '4.6.2'\nconst DATA_KEY = 'bs.collapse'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_COLLAPSE = 'collapse'\nconst CLASS_NAME_COLLAPSING = 'collapsing'\nconst CLASS_NAME_COLLAPSED = 'collapsed'\n\nconst DIMENSION_WIDTH = 'width'\nconst DIMENSION_HEIGHT = 'height'\n\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst SELECTOR_ACTIVES = '.show, .collapsing'\nconst SELECTOR_DATA_TOGGLE = '[data-toggle=\"collapse\"]'\n\nconst Default = {\n  toggle: true,\n  parent: ''\n}\n\nconst DefaultType = {\n  toggle: 'boolean',\n  parent: '(string|element)'\n}\n\n/**\n * Class definition\n */\n\nclass Collapse {\n  constructor(element, config) {\n    this._isTransitioning = false\n    this._element = element\n    this._config = this._getConfig(config)\n    this._triggerArray = [].slice.call(document.querySelectorAll(\n      `[data-toggle=\"collapse\"][href=\"#${element.id}\"],` +\n      `[data-toggle=\"collapse\"][data-target=\"#${element.id}\"]`\n    ))\n\n    const toggleList = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE))\n    for (let i = 0, len = toggleList.length; i < len; i++) {\n      const elem = toggleList[i]\n      const selector = Util.getSelectorFromElement(elem)\n      const filterElement = [].slice.call(document.querySelectorAll(selector))\n        .filter(foundElem => foundElem === element)\n\n      if (selector !== null && filterElement.length > 0) {\n        this._selector = selector\n        this._triggerArray.push(elem)\n      }\n    }\n\n    this._parent = this._config.parent ? this._getParent() : null\n\n    if (!this._config.parent) {\n      this._addAriaAndCollapsedClass(this._element, this._triggerArray)\n    }\n\n    if (this._config.toggle) {\n      this.toggle()\n    }\n  }\n\n  // Getters\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  // Public\n  toggle() {\n    if ($(this._element).hasClass(CLASS_NAME_SHOW)) {\n      this.hide()\n    } else {\n      this.show()\n    }\n  }\n\n  show() {\n    if (this._isTransitioning ||\n      $(this._element).hasClass(CLASS_NAME_SHOW)) {\n      return\n    }\n\n    let actives\n    let activesData\n\n    if (this._parent) {\n      actives = [].slice.call(this._parent.querySelectorAll(SELECTOR_ACTIVES))\n        .filter(elem => {\n          if (typeof this._config.parent === 'string') {\n            return elem.getAttribute('data-parent') === this._config.parent\n          }\n\n          return elem.classList.contains(CLASS_NAME_COLLAPSE)\n        })\n\n      if (actives.length === 0) {\n        actives = null\n      }\n    }\n\n    if (actives) {\n      activesData = $(actives).not(this._selector).data(DATA_KEY)\n      if (activesData && activesData._isTransitioning) {\n        return\n      }\n    }\n\n    const startEvent = $.Event(EVENT_SHOW)\n    $(this._element).trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) {\n      return\n    }\n\n    if (actives) {\n      Collapse._jQueryInterface.call($(actives).not(this._selector), 'hide')\n      if (!activesData) {\n        $(actives).data(DATA_KEY, null)\n      }\n    }\n\n    const dimension = this._getDimension()\n\n    $(this._element)\n      .removeClass(CLASS_NAME_COLLAPSE)\n      .addClass(CLASS_NAME_COLLAPSING)\n\n    this._element.style[dimension] = 0\n\n    if (this._triggerArray.length) {\n      $(this._triggerArray)\n        .removeClass(CLASS_NAME_COLLAPSED)\n        .attr('aria-expanded', true)\n    }\n\n    this.setTransitioning(true)\n\n    const complete = () => {\n      $(this._element)\n        .removeClass(CLASS_NAME_COLLAPSING)\n        .addClass(`${CLASS_NAME_COLLAPSE} ${CLASS_NAME_SHOW}`)\n\n      this._element.style[dimension] = ''\n\n      this.setTransitioning(false)\n\n      $(this._element).trigger(EVENT_SHOWN)\n    }\n\n    const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1)\n    const scrollSize = `scroll${capitalizedDimension}`\n    const transitionDuration = Util.getTransitionDurationFromElement(this._element)\n\n    $(this._element)\n      .one(Util.TRANSITION_END, complete)\n      .emulateTransitionEnd(transitionDuration)\n\n    this._element.style[dimension] = `${this._element[scrollSize]}px`\n  }\n\n  hide() {\n    if (this._isTransitioning ||\n      !$(this._element).hasClass(CLASS_NAME_SHOW)) {\n      return\n    }\n\n    const startEvent = $.Event(EVENT_HIDE)\n    $(this._element).trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) {\n      return\n    }\n\n    const dimension = this._getDimension()\n\n    this._element.style[dimension] = `${this._element.getBoundingClientRect()[dimension]}px`\n\n    Util.reflow(this._element)\n\n    $(this._element)\n      .addClass(CLASS_NAME_COLLAPSING)\n      .removeClass(`${CLASS_NAME_COLLAPSE} ${CLASS_NAME_SHOW}`)\n\n    const triggerArrayLength = this._triggerArray.length\n    if (triggerArrayLength > 0) {\n      for (let i = 0; i < triggerArrayLength; i++) {\n        const trigger = this._triggerArray[i]\n        const selector = Util.getSelectorFromElement(trigger)\n\n        if (selector !== null) {\n          const $elem = $([].slice.call(document.querySelectorAll(selector)))\n          if (!$elem.hasClass(CLASS_NAME_SHOW)) {\n            $(trigger).addClass(CLASS_NAME_COLLAPSED)\n              .attr('aria-expanded', false)\n          }\n        }\n      }\n    }\n\n    this.setTransitioning(true)\n\n    const complete = () => {\n      this.setTransitioning(false)\n      $(this._element)\n        .removeClass(CLASS_NAME_COLLAPSING)\n        .addClass(CLASS_NAME_COLLAPSE)\n        .trigger(EVENT_HIDDEN)\n    }\n\n    this._element.style[dimension] = ''\n    const transitionDuration = Util.getTransitionDurationFromElement(this._element)\n\n    $(this._element)\n      .one(Util.TRANSITION_END, complete)\n      .emulateTransitionEnd(transitionDuration)\n  }\n\n  setTransitioning(isTransitioning) {\n    this._isTransitioning = isTransitioning\n  }\n\n  dispose() {\n    $.removeData(this._element, DATA_KEY)\n\n    this._config = null\n    this._parent = null\n    this._element = null\n    this._triggerArray = null\n    this._isTransitioning = null\n  }\n\n  // Private\n  _getConfig(config) {\n    config = {\n      ...Default,\n      ...config\n    }\n    config.toggle = Boolean(config.toggle) // Coerce string values\n    Util.typeCheckConfig(NAME, config, DefaultType)\n    return config\n  }\n\n  _getDimension() {\n    const hasWidth = $(this._element).hasClass(DIMENSION_WIDTH)\n    return hasWidth ? DIMENSION_WIDTH : DIMENSION_HEIGHT\n  }\n\n  _getParent() {\n    let parent\n\n    if (Util.isElement(this._config.parent)) {\n      parent = this._config.parent\n\n      // It's a jQuery object\n      if (typeof this._config.parent.jquery !== 'undefined') {\n        parent = this._config.parent[0]\n      }\n    } else {\n      parent = document.querySelector(this._config.parent)\n    }\n\n    const selector = `[data-toggle=\"collapse\"][data-parent=\"${this._config.parent}\"]`\n    const children = [].slice.call(parent.querySelectorAll(selector))\n\n    $(children).each((i, element) => {\n      this._addAriaAndCollapsedClass(\n        Collapse._getTargetFromElement(element),\n        [element]\n      )\n    })\n\n    return parent\n  }\n\n  _addAriaAndCollapsedClass(element, triggerArray) {\n    const isOpen = $(element).hasClass(CLASS_NAME_SHOW)\n\n    if (triggerArray.length) {\n      $(triggerArray)\n        .toggleClass(CLASS_NAME_COLLAPSED, !isOpen)\n        .attr('aria-expanded', isOpen)\n    }\n  }\n\n  // Static\n  static _getTargetFromElement(element) {\n    const selector = Util.getSelectorFromElement(element)\n    return selector ? document.querySelector(selector) : null\n  }\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      const $element = $(this)\n      let data = $element.data(DATA_KEY)\n      const _config = {\n        ...Default,\n        ...$element.data(),\n        ...(typeof config === 'object' && config ? config : {})\n      }\n\n      if (!data && _config.toggle && typeof config === 'string' && /show|hide/.test(config)) {\n        _config.toggle = false\n      }\n\n      if (!data) {\n        data = new Collapse(this, _config)\n        $element.data(DATA_KEY, data)\n      }\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\n$(document).on(EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  // preventDefault only for <a> elements (which change the URL) not inside the collapsible element\n  if (event.currentTarget.tagName === 'A') {\n    event.preventDefault()\n  }\n\n  const $trigger = $(this)\n  const selector = Util.getSelectorFromElement(this)\n  const selectors = [].slice.call(document.querySelectorAll(selector))\n\n  $(selectors).each(function () {\n    const $target = $(this)\n    const data = $target.data(DATA_KEY)\n    const config = data ? 'toggle' : $trigger.data()\n    Collapse._jQueryInterface.call($target, config)\n  })\n})\n\n/**\n * jQuery\n */\n\n$.fn[NAME] = Collapse._jQueryInterface\n$.fn[NAME].Constructor = Collapse\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Collapse._jQueryInterface\n}\n\nexport default Collapse\n"],"names":["NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","$","fn","CLASS_NAME_SHOW","CLASS_NAME_COLLAPSE","CLASS_NAME_COLLAPSING","CLASS_NAME_COLLAPSED","DIMENSION_WIDTH","DIMENSION_HEIGHT","EVENT_SHOW","EVENT_SHOWN","EVENT_HIDE","EVENT_HIDDEN","EVENT_CLICK_DATA_API","SELECTOR_ACTIVES","SELECTOR_DATA_TOGGLE","Default","toggle","parent","DefaultType","Collapse","constructor","element","config","_isTransitioning","_element","_config","_getConfig","_triggerArray","slice","call","document","querySelectorAll","id","toggleList","i","len","length","elem","selector","Util","getSelectorFromElement","filterElement","filter","foundElem","_selector","push","_parent","_getParent","_addAriaAndCollapsedClass","hasClass","hide","show","actives","activesData","getAttribute","classList","contains","not","data","startEvent","Event","trigger","isDefaultPrevented","_jQueryInterface","dimension","_getDimension","removeClass","addClass","style","attr","setTransitioning","complete","capitalizedDimension","toUpperCase","scrollSize","transitionDuration","getTransitionDurationFromElement","one","TRANSITION_END","emulateTransitionEnd","getBoundingClientRect","reflow","triggerArrayLength","$elem","isTransitioning","dispose","removeData","Boolean","typeCheckConfig","hasWidth","isElement","jquery","querySelector","children","each","_getTargetFromElement","triggerArray","isOpen","toggleClass","$element","test","TypeError","on","event","currentTarget","tagName","preventDefault","$trigger","selectors","$target","Constructor","noConflict"],"mappings":"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"}