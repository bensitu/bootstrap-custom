{"version":3,"file":"carousel.js","sources":["../src/carousel.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.6.2): carousel.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * Constants\n */\n\nconst NAME = 'carousel'\nconst VERSION = '4.6.2'\nconst DATA_KEY = 'bs.carousel'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\nconst ARROW_LEFT_KEYCODE = 37 // KeyboardEvent.which value for left arrow key\nconst ARROW_RIGHT_KEYCODE = 39 // KeyboardEvent.which value for right arrow key\nconst TOUCHEVENT_COMPAT_WAIT = 500 // Time for mouse compat events to fire after touch\nconst SWIPE_THRESHOLD = 40\n\nconst CLASS_NAME_CAROUSEL = 'carousel'\nconst CLASS_NAME_ACTIVE = 'active'\nconst CLASS_NAME_SLIDE = 'slide'\nconst CLASS_NAME_RIGHT = 'carousel-item-right'\nconst CLASS_NAME_LEFT = 'carousel-item-left'\nconst CLASS_NAME_NEXT = 'carousel-item-next'\nconst CLASS_NAME_PREV = 'carousel-item-prev'\nconst CLASS_NAME_POINTER_EVENT = 'pointer-event'\n\nconst DIRECTION_NEXT = 'next'\nconst DIRECTION_PREV = 'prev'\nconst DIRECTION_LEFT = 'left'\nconst DIRECTION_RIGHT = 'right'\n\nconst EVENT_SLIDE = `slide${EVENT_KEY}`\nconst EVENT_SLID = `slid${EVENT_KEY}`\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`\nconst EVENT_MOUSEENTER = `mouseenter${EVENT_KEY}`\nconst EVENT_MOUSELEAVE = `mouseleave${EVENT_KEY}`\nconst EVENT_TOUCHSTART = `touchstart${EVENT_KEY}`\nconst EVENT_TOUCHMOVE = `touchmove${EVENT_KEY}`\nconst EVENT_TOUCHEND = `touchend${EVENT_KEY}`\nconst EVENT_POINTERDOWN = `pointerdown${EVENT_KEY}`\nconst EVENT_POINTERUP = `pointerup${EVENT_KEY}`\nconst EVENT_DRAG_START = `dragstart${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst SELECTOR_ACTIVE = '.active'\nconst SELECTOR_ACTIVE_ITEM = '.active.carousel-item'\nconst SELECTOR_ITEM = '.carousel-item'\nconst SELECTOR_ITEM_IMG = '.carousel-item img'\nconst SELECTOR_NEXT_PREV = '.carousel-item-next, .carousel-item-prev'\nconst SELECTOR_INDICATORS = '.carousel-indicators'\nconst SELECTOR_DATA_SLIDE = '[data-slide], [data-slide-to]'\nconst SELECTOR_DATA_RIDE = '[data-ride=\"carousel\"]'\n\nconst Default = {\n  interval: 5000,\n  keyboard: true,\n  slide: false,\n  pause: 'hover',\n  wrap: true,\n  touch: true\n}\n\nconst DefaultType = {\n  interval: '(number|boolean)',\n  keyboard: 'boolean',\n  slide: '(boolean|string)',\n  pause: '(string|boolean)',\n  wrap: 'boolean',\n  touch: 'boolean'\n}\n\nconst PointerType = {\n  TOUCH: 'touch',\n  PEN: 'pen'\n}\n\n/**\n * Class definition\n */\n\nclass Carousel {\n  constructor(element, config) {\n    this._items = null\n    this._interval = null\n    this._activeElement = null\n    this._isPaused = false\n    this._isSliding = false\n    this.touchTimeout = null\n    this.touchStartX = 0\n    this.touchDeltaX = 0\n\n    this._config = this._getConfig(config)\n    this._element = element\n    this._indicatorsElement = this._element.querySelector(SELECTOR_INDICATORS)\n    this._touchSupported = 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0\n    this._pointerEvent = Boolean(window.PointerEvent || window.MSPointerEvent)\n\n    this._addEventListeners()\n  }\n\n  // Getters\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  // Public\n  next() {\n    if (!this._isSliding) {\n      this._slide(DIRECTION_NEXT)\n    }\n  }\n\n  nextWhenVisible() {\n    const $element = $(this._element)\n    // Don't call next when the page isn't visible\n    // or the carousel or its parent isn't visible\n    if (!document.hidden &&\n      ($element.is(':visible') && $element.css('visibility') !== 'hidden')) {\n      this.next()\n    }\n  }\n\n  prev() {\n    if (!this._isSliding) {\n      this._slide(DIRECTION_PREV)\n    }\n  }\n\n  pause(event) {\n    if (!event) {\n      this._isPaused = true\n    }\n\n    if (this._element.querySelector(SELECTOR_NEXT_PREV)) {\n      Util.triggerTransitionEnd(this._element)\n      this.cycle(true)\n    }\n\n    clearInterval(this._interval)\n    this._interval = null\n  }\n\n  cycle(event) {\n    if (!event) {\n      this._isPaused = false\n    }\n\n    if (this._interval) {\n      clearInterval(this._interval)\n      this._interval = null\n    }\n\n    if (this._config.interval && !this._isPaused) {\n      this._updateInterval()\n\n      this._interval = setInterval(\n        (document.visibilityState ? this.nextWhenVisible : this.next).bind(this),\n        this._config.interval\n      )\n    }\n  }\n\n  to(index) {\n    this._activeElement = this._element.querySelector(SELECTOR_ACTIVE_ITEM)\n\n    const activeIndex = this._getItemIndex(this._activeElement)\n\n    if (index > this._items.length - 1 || index < 0) {\n      return\n    }\n\n    if (this._isSliding) {\n      $(this._element).one(EVENT_SLID, () => this.to(index))\n      return\n    }\n\n    if (activeIndex === index) {\n      this.pause()\n      this.cycle()\n      return\n    }\n\n    const direction = index > activeIndex ?\n      DIRECTION_NEXT :\n      DIRECTION_PREV\n\n    this._slide(direction, this._items[index])\n  }\n\n  dispose() {\n    $(this._element).off(EVENT_KEY)\n    $.removeData(this._element, DATA_KEY)\n\n    this._items = null\n    this._config = null\n    this._element = null\n    this._interval = null\n    this._isPaused = null\n    this._isSliding = null\n    this._activeElement = null\n    this._indicatorsElement = null\n  }\n\n  // Private\n  _getConfig(config) {\n    config = {\n      ...Default,\n      ...config\n    }\n    Util.typeCheckConfig(NAME, config, DefaultType)\n    return config\n  }\n\n  _handleSwipe() {\n    const absDeltax = Math.abs(this.touchDeltaX)\n\n    if (absDeltax <= SWIPE_THRESHOLD) {\n      return\n    }\n\n    const direction = absDeltax / this.touchDeltaX\n\n    this.touchDeltaX = 0\n\n    // swipe left\n    if (direction > 0) {\n      this.prev()\n    }\n\n    // swipe right\n    if (direction < 0) {\n      this.next()\n    }\n  }\n\n  _addEventListeners() {\n    if (this._config.keyboard) {\n      $(this._element).on(EVENT_KEYDOWN, event => this._keydown(event))\n    }\n\n    if (this._config.pause === 'hover') {\n      $(this._element)\n        .on(EVENT_MOUSEENTER, event => this.pause(event))\n        .on(EVENT_MOUSELEAVE, event => this.cycle(event))\n    }\n\n    if (this._config.touch) {\n      this._addTouchEventListeners()\n    }\n  }\n\n  _addTouchEventListeners() {\n    if (!this._touchSupported) {\n      return\n    }\n\n    const start = event => {\n      if (this._pointerEvent && PointerType[event.originalEvent.pointerType.toUpperCase()]) {\n        this.touchStartX = event.originalEvent.clientX\n      } else if (!this._pointerEvent) {\n        this.touchStartX = event.originalEvent.touches[0].clientX\n      }\n    }\n\n    const move = event => {\n      // ensure swiping with one touch and not pinching\n      this.touchDeltaX = event.originalEvent.touches && event.originalEvent.touches.length > 1 ?\n        0 :\n        event.originalEvent.touches[0].clientX - this.touchStartX\n    }\n\n    const end = event => {\n      if (this._pointerEvent && PointerType[event.originalEvent.pointerType.toUpperCase()]) {\n        this.touchDeltaX = event.originalEvent.clientX - this.touchStartX\n      }\n\n      this._handleSwipe()\n      if (this._config.pause === 'hover') {\n        // If it's a touch-enabled device, mouseenter/leave are fired as\n        // part of the mouse compatibility events on first tap - the carousel\n        // would stop cycling until user tapped out of it;\n        // here, we listen for touchend, explicitly pause the carousel\n        // (as if it's the second time we tap on it, mouseenter compat event\n        // is NOT fired) and after a timeout (to allow for mouse compatibility\n        // events to fire) we explicitly restart cycling\n\n        this.pause()\n        if (this.touchTimeout) {\n          clearTimeout(this.touchTimeout)\n        }\n\n        this.touchTimeout = setTimeout(event => this.cycle(event), TOUCHEVENT_COMPAT_WAIT + this._config.interval)\n      }\n    }\n\n    $(this._element.querySelectorAll(SELECTOR_ITEM_IMG))\n      .on(EVENT_DRAG_START, e => e.preventDefault())\n\n    if (this._pointerEvent) {\n      $(this._element).on(EVENT_POINTERDOWN, event => start(event))\n      $(this._element).on(EVENT_POINTERUP, event => end(event))\n\n      this._element.classList.add(CLASS_NAME_POINTER_EVENT)\n    } else {\n      $(this._element).on(EVENT_TOUCHSTART, event => start(event))\n      $(this._element).on(EVENT_TOUCHMOVE, event => move(event))\n      $(this._element).on(EVENT_TOUCHEND, event => end(event))\n    }\n  }\n\n  _keydown(event) {\n    if (/input|textarea/i.test(event.target.tagName)) {\n      return\n    }\n\n    switch (event.which) {\n      case ARROW_LEFT_KEYCODE:\n        event.preventDefault()\n        this.prev()\n        break\n      case ARROW_RIGHT_KEYCODE:\n        event.preventDefault()\n        this.next()\n        break\n      default:\n    }\n  }\n\n  _getItemIndex(element) {\n    this._items = element && element.parentNode ?\n      [].slice.call(element.parentNode.querySelectorAll(SELECTOR_ITEM)) :\n      []\n    return this._items.indexOf(element)\n  }\n\n  _getItemByDirection(direction, activeElement) {\n    const isNextDirection = direction === DIRECTION_NEXT\n    const isPrevDirection = direction === DIRECTION_PREV\n    const activeIndex = this._getItemIndex(activeElement)\n    const lastItemIndex = this._items.length - 1\n    const isGoingToWrap = isPrevDirection && activeIndex === 0 ||\n                            isNextDirection && activeIndex === lastItemIndex\n\n    if (isGoingToWrap && !this._config.wrap) {\n      return activeElement\n    }\n\n    const delta = direction === DIRECTION_PREV ? -1 : 1\n    const itemIndex = (activeIndex + delta) % this._items.length\n\n    return itemIndex === -1 ?\n      this._items[this._items.length - 1] : this._items[itemIndex]\n  }\n\n  _triggerSlideEvent(relatedTarget, eventDirectionName) {\n    const targetIndex = this._getItemIndex(relatedTarget)\n    const fromIndex = this._getItemIndex(this._element.querySelector(SELECTOR_ACTIVE_ITEM))\n    const slideEvent = $.Event(EVENT_SLIDE, {\n      relatedTarget,\n      direction: eventDirectionName,\n      from: fromIndex,\n      to: targetIndex\n    })\n\n    $(this._element).trigger(slideEvent)\n\n    return slideEvent\n  }\n\n  _setActiveIndicatorElement(element) {\n    if (this._indicatorsElement) {\n      const indicators = [].slice.call(this._indicatorsElement.querySelectorAll(SELECTOR_ACTIVE))\n      $(indicators).removeClass(CLASS_NAME_ACTIVE)\n\n      const nextIndicator = this._indicatorsElement.children[\n        this._getItemIndex(element)\n      ]\n\n      if (nextIndicator) {\n        $(nextIndicator).addClass(CLASS_NAME_ACTIVE)\n      }\n    }\n  }\n\n  _updateInterval() {\n    const element = this._activeElement || this._element.querySelector(SELECTOR_ACTIVE_ITEM)\n\n    if (!element) {\n      return\n    }\n\n    const elementInterval = parseInt(element.getAttribute('data-interval'), 10)\n\n    if (elementInterval) {\n      this._config.defaultInterval = this._config.defaultInterval || this._config.interval\n      this._config.interval = elementInterval\n    } else {\n      this._config.interval = this._config.defaultInterval || this._config.interval\n    }\n  }\n\n  _slide(direction, element) {\n    const activeElement = this._element.querySelector(SELECTOR_ACTIVE_ITEM)\n    const activeElementIndex = this._getItemIndex(activeElement)\n    const nextElement = element || activeElement &&\n      this._getItemByDirection(direction, activeElement)\n    const nextElementIndex = this._getItemIndex(nextElement)\n    const isCycling = Boolean(this._interval)\n\n    let directionalClassName\n    let orderClassName\n    let eventDirectionName\n\n    if (direction === DIRECTION_NEXT) {\n      directionalClassName = CLASS_NAME_LEFT\n      orderClassName = CLASS_NAME_NEXT\n      eventDirectionName = DIRECTION_LEFT\n    } else {\n      directionalClassName = CLASS_NAME_RIGHT\n      orderClassName = CLASS_NAME_PREV\n      eventDirectionName = DIRECTION_RIGHT\n    }\n\n    if (nextElement && $(nextElement).hasClass(CLASS_NAME_ACTIVE)) {\n      this._isSliding = false\n      return\n    }\n\n    const slideEvent = this._triggerSlideEvent(nextElement, eventDirectionName)\n    if (slideEvent.isDefaultPrevented()) {\n      return\n    }\n\n    if (!activeElement || !nextElement) {\n      // Some weirdness is happening, so we bail\n      return\n    }\n\n    this._isSliding = true\n\n    if (isCycling) {\n      this.pause()\n    }\n\n    this._setActiveIndicatorElement(nextElement)\n    this._activeElement = nextElement\n\n    const slidEvent = $.Event(EVENT_SLID, {\n      relatedTarget: nextElement,\n      direction: eventDirectionName,\n      from: activeElementIndex,\n      to: nextElementIndex\n    })\n\n    if ($(this._element).hasClass(CLASS_NAME_SLIDE)) {\n      $(nextElement).addClass(orderClassName)\n\n      Util.reflow(nextElement)\n\n      $(activeElement).addClass(directionalClassName)\n      $(nextElement).addClass(directionalClassName)\n\n      const transitionDuration = Util.getTransitionDurationFromElement(activeElement)\n\n      $(activeElement)\n        .one(Util.TRANSITION_END, () => {\n          $(nextElement)\n            .removeClass(`${directionalClassName} ${orderClassName}`)\n            .addClass(CLASS_NAME_ACTIVE)\n\n          $(activeElement).removeClass(`${CLASS_NAME_ACTIVE} ${orderClassName} ${directionalClassName}`)\n\n          this._isSliding = false\n\n          setTimeout(() => $(this._element).trigger(slidEvent), 0)\n        })\n        .emulateTransitionEnd(transitionDuration)\n    } else {\n      $(activeElement).removeClass(CLASS_NAME_ACTIVE)\n      $(nextElement).addClass(CLASS_NAME_ACTIVE)\n\n      this._isSliding = false\n      $(this._element).trigger(slidEvent)\n    }\n\n    if (isCycling) {\n      this.cycle()\n    }\n  }\n\n  // Static\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      let data = $(this).data(DATA_KEY)\n      let _config = {\n        ...Default,\n        ...$(this).data()\n      }\n\n      if (typeof config === 'object') {\n        _config = {\n          ..._config,\n          ...config\n        }\n      }\n\n      const action = typeof config === 'string' ? config : _config.slide\n\n      if (!data) {\n        data = new Carousel(this, _config)\n        $(this).data(DATA_KEY, data)\n      }\n\n      if (typeof config === 'number') {\n        data.to(config)\n      } else if (typeof action === 'string') {\n        if (typeof data[action] === 'undefined') {\n          throw new TypeError(`No method named \"${action}\"`)\n        }\n\n        data[action]()\n      } else if (_config.interval && _config.ride) {\n        data.pause()\n        data.cycle()\n      }\n    })\n  }\n\n  static _dataApiClickHandler(event) {\n    const selector = Util.getSelectorFromElement(this)\n\n    if (!selector) {\n      return\n    }\n\n    const target = $(selector)[0]\n\n    if (!target || !$(target).hasClass(CLASS_NAME_CAROUSEL)) {\n      return\n    }\n\n    const config = {\n      ...$(target).data(),\n      ...$(this).data()\n    }\n    const slideIndex = this.getAttribute('data-slide-to')\n\n    if (slideIndex) {\n      config.interval = false\n    }\n\n    Carousel._jQueryInterface.call($(target), config)\n\n    if (slideIndex) {\n      $(target).data(DATA_KEY).to(slideIndex)\n    }\n\n    event.preventDefault()\n  }\n}\n\n/**\n * Data API implementation\n */\n\n$(document).on(EVENT_CLICK_DATA_API, SELECTOR_DATA_SLIDE, Carousel._dataApiClickHandler)\n\n$(window).on(EVENT_LOAD_DATA_API, () => {\n  const carousels = [].slice.call(document.querySelectorAll(SELECTOR_DATA_RIDE))\n  for (let i = 0, len = carousels.length; i < len; i++) {\n    const $carousel = $(carousels[i])\n    Carousel._jQueryInterface.call($carousel, $carousel.data())\n  }\n})\n\n/**\n * jQuery\n */\n\n$.fn[NAME] = Carousel._jQueryInterface\n$.fn[NAME].Constructor = Carousel\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Carousel._jQueryInterface\n}\n\nexport default Carousel\n"],"names":["NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","$","fn","ARROW_LEFT_KEYCODE","ARROW_RIGHT_KEYCODE","TOUCHEVENT_COMPAT_WAIT","SWIPE_THRESHOLD","CLASS_NAME_CAROUSEL","CLASS_NAME_ACTIVE","CLASS_NAME_SLIDE","CLASS_NAME_RIGHT","CLASS_NAME_LEFT","CLASS_NAME_NEXT","CLASS_NAME_PREV","CLASS_NAME_POINTER_EVENT","DIRECTION_NEXT","DIRECTION_PREV","DIRECTION_LEFT","DIRECTION_RIGHT","EVENT_SLIDE","EVENT_SLID","EVENT_KEYDOWN","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","EVENT_TOUCHSTART","EVENT_TOUCHMOVE","EVENT_TOUCHEND","EVENT_POINTERDOWN","EVENT_POINTERUP","EVENT_DRAG_START","EVENT_LOAD_DATA_API","EVENT_CLICK_DATA_API","SELECTOR_ACTIVE","SELECTOR_ACTIVE_ITEM","SELECTOR_ITEM","SELECTOR_ITEM_IMG","SELECTOR_NEXT_PREV","SELECTOR_INDICATORS","SELECTOR_DATA_SLIDE","SELECTOR_DATA_RIDE","Default","interval","keyboard","slide","pause","wrap","touch","DefaultType","PointerType","TOUCH","PEN","Carousel","constructor","element","config","_items","_interval","_activeElement","_isPaused","_isSliding","touchTimeout","touchStartX","touchDeltaX","_config","_getConfig","_element","_indicatorsElement","querySelector","_touchSupported","document","documentElement","navigator","maxTouchPoints","_pointerEvent","Boolean","window","PointerEvent","MSPointerEvent","_addEventListeners","next","_slide","nextWhenVisible","$element","hidden","is","css","prev","event","Util","triggerTransitionEnd","cycle","clearInterval","_updateInterval","setInterval","visibilityState","bind","to","index","activeIndex","_getItemIndex","length","one","direction","dispose","off","removeData","typeCheckConfig","_handleSwipe","absDeltax","Math","abs","on","_keydown","_addTouchEventListeners","start","originalEvent","pointerType","toUpperCase","clientX","touches","move","end","clearTimeout","setTimeout","querySelectorAll","e","preventDefault","classList","add","test","target","tagName","which","parentNode","slice","call","indexOf","_getItemByDirection","activeElement","isNextDirection","isPrevDirection","lastItemIndex","isGoingToWrap","delta","itemIndex","_triggerSlideEvent","relatedTarget","eventDirectionName","targetIndex","fromIndex","slideEvent","Event","from","trigger","_setActiveIndicatorElement","indicators","removeClass","nextIndicator","children","addClass","elementInterval","parseInt","getAttribute","defaultInterval","activeElementIndex","nextElement","nextElementIndex","isCycling","directionalClassName","orderClassName","hasClass","isDefaultPrevented","slidEvent","reflow","transitionDuration","getTransitionDurationFromElement","TRANSITION_END","emulateTransitionEnd","_jQueryInterface","each","data","action","TypeError","ride","_dataApiClickHandler","selector","getSelectorFromElement","slideIndex","carousels","i","len","$carousel","Constructor","noConflict"],"mappings":"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"}