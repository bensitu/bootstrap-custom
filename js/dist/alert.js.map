{"version":3,"file":"alert.js","sources":["../src/alert.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.6.2): alert.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * Constants\n */\n\nconst NAME = 'alert'\nconst VERSION = '4.6.2'\nconst DATA_KEY = 'bs.alert'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\nconst CLASS_NAME_ALERT = 'alert'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\n\nconst EVENT_CLOSE = `close${EVENT_KEY}`\nconst EVENT_CLOSED = `closed${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst SELECTOR_DISMISS = '[data-dismiss=\"alert\"]'\n\n/**\n * Class definition\n */\n\nclass Alert {\n  constructor(element) {\n    this._element = element\n  }\n\n  // Getters\n  static get VERSION() {\n    return VERSION\n  }\n\n  // Public\n  close(element) {\n    let rootElement = this._element\n    if (element) {\n      rootElement = this._getRootElement(element)\n    }\n\n    const customEvent = this._triggerCloseEvent(rootElement)\n\n    if (customEvent.isDefaultPrevented()) {\n      return\n    }\n\n    this._removeElement(rootElement)\n  }\n\n  dispose() {\n    $.removeData(this._element, DATA_KEY)\n    this._element = null\n  }\n\n  // Private\n  _getRootElement(element) {\n    const selector = Util.getSelectorFromElement(element)\n    let parent = false\n\n    if (selector) {\n      parent = document.querySelector(selector)\n    }\n\n    if (!parent) {\n      parent = $(element).closest(`.${CLASS_NAME_ALERT}`)[0]\n    }\n\n    return parent\n  }\n\n  _triggerCloseEvent(element) {\n    const closeEvent = $.Event(EVENT_CLOSE)\n\n    $(element).trigger(closeEvent)\n    return closeEvent\n  }\n\n  _removeElement(element) {\n    $(element).removeClass(CLASS_NAME_SHOW)\n\n    if (!$(element).hasClass(CLASS_NAME_FADE)) {\n      this._destroyElement(element)\n      return\n    }\n\n    const transitionDuration = Util.getTransitionDurationFromElement(element)\n\n    $(element)\n      .one(Util.TRANSITION_END, event => this._destroyElement(element, event))\n      .emulateTransitionEnd(transitionDuration)\n  }\n\n  _destroyElement(element) {\n    $(element)\n      .detach()\n      .trigger(EVENT_CLOSED)\n      .remove()\n  }\n\n  // Static\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      const $element = $(this)\n      let data = $element.data(DATA_KEY)\n\n      if (!data) {\n        data = new Alert(this)\n        $element.data(DATA_KEY, data)\n      }\n\n      if (config === 'close') {\n        data[config](this)\n      }\n    })\n  }\n\n  static _handleDismiss(alertInstance) {\n    return function (event) {\n      if (event) {\n        event.preventDefault()\n      }\n\n      alertInstance.close(this)\n    }\n  }\n}\n\n/**\n * Data API implementation\n */\n\n$(document).on(\n  EVENT_CLICK_DATA_API,\n  SELECTOR_DISMISS,\n  Alert._handleDismiss(new Alert())\n)\n\n/**\n * jQuery\n */\n\n$.fn[NAME] = Alert._jQueryInterface\n$.fn[NAME].Constructor = Alert\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Alert._jQueryInterface\n}\n\nexport default Alert\n"],"names":["NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","$","fn","CLASS_NAME_ALERT","CLASS_NAME_FADE","CLASS_NAME_SHOW","EVENT_CLOSE","EVENT_CLOSED","EVENT_CLICK_DATA_API","SELECTOR_DISMISS","Alert","constructor","element","_element","close","rootElement","_getRootElement","customEvent","_triggerCloseEvent","isDefaultPrevented","_removeElement","dispose","removeData","selector","Util","getSelectorFromElement","parent","document","querySelector","closest","closeEvent","Event","trigger","removeClass","hasClass","_destroyElement","transitionDuration","getTransitionDurationFromElement","one","TRANSITION_END","event","emulateTransitionEnd","detach","remove","_jQueryInterface","config","each","$element","data","_handleDismiss","alertInstance","preventDefault","on","Constructor","noConflict"],"mappings":"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"}